version: 2

models:
  - name: int_customer_enriched
    description: "Enriched customer table: normalized names, churn_flag, population join and LTV estimate."
    columns:
      - name: customer_id
        tests:
          - not_null
          - unique
      - name: churn_flag
        tests:
          - not_null
          - accepted_values:
              values: [0, 1]
      - name: monthly_charges
        tests:
          - not_null

  - name: int_churn_kpis
    description: "Aggregated churn KPIs at overall / region / gender granularities."
    columns:
      - name: segment
        tests:
          - not_null
      - name: customers_count
        tests:
          - not_null

